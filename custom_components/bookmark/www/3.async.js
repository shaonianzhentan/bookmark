(self.webpackChunk=self.webpackChunk||[]).push([[641],{96618:function(K,A,s){"use strict";s.r(A),s.d(A,{default:function(){return Se}});var F={};s.r(F),s.d(F,{addUser:function(){return ne},deleteUser:function(){return ue},getUserDetail:function(){return ae},modifyUser:function(){return te},queryUserList:function(){return se}});var w=s(3849),g=s.n(w),b=s(55980),c=s.n(b),ee=s(18172),f=s.n(ee),re=s(29960),l=s.n(re),S=s(54286);function se(i,e){return B.apply(this,arguments)}function B(){return B=f()(l().mark(function i(e,a){return l().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,S.request)("/api/v1/queryUserList",c()({method:"GET",params:c()({},e)},a||{})));case 1:case"end":return u.stop()}},i)})),B.apply(this,arguments)}function ne(i,e){return $.apply(this,arguments)}function $(){return $=f()(l().mark(function i(e,a){return l().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,S.request)("/api/v1/user",c()({method:"POST",headers:{"Content-Type":"application/json"},data:e},a||{})));case 1:case"end":return u.stop()}},i)})),$.apply(this,arguments)}function ae(i,e){return R.apply(this,arguments)}function R(){return R=f()(l().mark(function i(e,a){var t;return l().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.userId,r.abrupt("return",(0,S.request)("/api/v1/user/".concat(t),c()({method:"GET",params:c()({},e)},a||{})));case 2:case"end":return r.stop()}},i)})),R.apply(this,arguments)}function te(i,e,a){return L.apply(this,arguments)}function L(){return L=f()(l().mark(function i(e,a,t){var u;return l().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return u=e.userId,d.abrupt("return",(0,S.request)("/api/v1/user/".concat(u),c()({method:"PUT",headers:{"Content-Type":"application/json"},params:c()({},e),data:a},t||{})));case 2:case"end":return d.stop()}},i)})),L.apply(this,arguments)}function ue(i,e){return D.apply(this,arguments)}function D(){return D=f()(l().mark(function i(e,a){var t;return l().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.userId,r.abrupt("return",(0,S.request)("/api/v1/user/".concat(t),c()({method:"DELETE",params:c()({},e)},a||{})));case 2:case"end":return r.stop()}},i)})),D.apply(this,arguments)}var le={UserController:F},W=s(83059),Y=s(78631),ie=s(35222),y=s(47702),de=s(61929),P=s(82258),oe=s(12560),U=s(93236),H=s(26411),n=s(62086),ce=function(e){var a=e.modalVisible,t=e.onCancel;return(0,n.jsx)(H.Z,{destroyOnClose:!0,title:"\u65B0\u5EFA",width:420,visible:a,onCancel:function(){return t()},footer:null,children:e.children})},je=ce,z=s(47219),me=s(21636),he=s(91280),V=s(58217),fe=s(47533),ve=s(29415),pe=function(e){return(0,n.jsxs)(z.L,{stepsProps:{size:"small"},stepsFormRender:function(t,u){return(0,n.jsx)(H.Z,{width:640,bodyStyle:{padding:"32px 40px 48px"},destroyOnClose:!0,title:"\u89C4\u5219\u914D\u7F6E",visible:e.updateModalVisible,footer:u,onCancel:function(){return e.onCancel()},children:t})},onFinish:e.onSubmit,children:[(0,n.jsxs)(z.L.StepForm,{initialValues:{name:e.values.name,nickName:e.values.nickName},title:"\u57FA\u672C\u4FE1\u606F",children:[(0,n.jsx)(me.Z,{width:"md",name:"name",label:"\u89C4\u5219\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u89C4\u5219\u540D\u79F0\uFF01"}]}),(0,n.jsx)(he.Z,{name:"desc",width:"md",label:"\u89C4\u5219\u63CF\u8FF0",placeholder:"\u8BF7\u8F93\u5165\u81F3\u5C11\u4E94\u4E2A\u5B57\u7B26",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u81F3\u5C11\u4E94\u4E2A\u5B57\u7B26\u7684\u89C4\u5219\u63CF\u8FF0\uFF01",min:5}]})]}),(0,n.jsxs)(z.L.StepForm,{initialValues:{target:"0",template:"0"},title:"\u914D\u7F6E\u89C4\u5219\u5C5E\u6027",children:[(0,n.jsx)(V.Z,{width:"md",name:"target",label:"\u76D1\u63A7\u5BF9\u8C61",valueEnum:{0:"\u8868\u4E00",1:"\u8868\u4E8C"}}),(0,n.jsx)(V.Z,{width:"md",name:"template",label:"\u89C4\u5219\u6A21\u677F",valueEnum:{0:"\u89C4\u5219\u6A21\u677F\u4E00",1:"\u89C4\u5219\u6A21\u677F\u4E8C"}}),(0,n.jsx)(fe.Z.Group,{name:"type",width:"md",label:"\u89C4\u5219\u7C7B\u578B",options:[{value:"0",label:"\u5F3A"},{value:"1",label:"\u5F31"}]})]}),(0,n.jsxs)(z.L.StepForm,{initialValues:{type:"1",frequency:"month"},title:"\u8BBE\u5B9A\u8C03\u5EA6\u5468\u671F",children:[(0,n.jsx)(ve.Z,{name:"time",label:"\u5F00\u59CB\u65F6\u95F4",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u5F00\u59CB\u65F6\u95F4\uFF01"}]}),(0,n.jsx)(V.Z,{name:"frequency",label:"\u76D1\u63A7\u5BF9\u8C61",width:"xs",valueEnum:{month:"\u6708",week:"\u5468"}})]})]})},ye=pe,T=le.UserController,ge=T.addUser,be=T.queryUserList,Ce=T.deleteUser,Fe=T.modifyUser,we=function(){var i=f()(l().mark(function e(a){var t;return l().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=y.ZP.loading("\u6B63\u5728\u6DFB\u52A0"),r.prev=1,r.next=4,ge(c()({},a));case 4:return t(),y.ZP.success("\u6DFB\u52A0\u6210\u529F"),r.abrupt("return",!0);case 9:return r.prev=9,r.t0=r.catch(1),t(),y.ZP.error("\u6DFB\u52A0\u5931\u8D25\u8BF7\u91CD\u8BD5\uFF01"),r.abrupt("return",!1);case 14:case"end":return r.stop()}},e,null,[[1,9]])}));return function(a){return i.apply(this,arguments)}}(),Ue=function(){var i=f()(l().mark(function e(a){var t;return l().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=y.ZP.loading("\u6B63\u5728\u914D\u7F6E"),r.prev=1,r.next=4,Fe({userId:a.id||""},{name:a.name||"",nickName:a.nickName||"",email:a.email||""});case 4:return t(),y.ZP.success("\u914D\u7F6E\u6210\u529F"),r.abrupt("return",!0);case 9:return r.prev=9,r.t0=r.catch(1),t(),y.ZP.error("\u914D\u7F6E\u5931\u8D25\u8BF7\u91CD\u8BD5\uFF01"),r.abrupt("return",!1);case 14:case"end":return r.stop()}},e,null,[[1,9]])}));return function(a){return i.apply(this,arguments)}}(),ke=function(){var i=f()(l().mark(function e(a){var t,u;return l().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(t=y.ZP.loading("\u6B63\u5728\u5220\u9664"),a){d.next=3;break}return d.abrupt("return",!0);case 3:return d.prev=3,d.next=6,Ce({userId:((u=a.find(function(I){return I.id}))===null||u===void 0?void 0:u.id)||""});case 6:return t(),y.ZP.success("\u5220\u9664\u6210\u529F\uFF0C\u5373\u5C06\u5237\u65B0"),d.abrupt("return",!0);case 11:return d.prev=11,d.t0=d.catch(3),t(),y.ZP.error("\u5220\u9664\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),d.abrupt("return",!1);case 16:case"end":return d.stop()}},e,null,[[3,11]])}));return function(a){return i.apply(this,arguments)}}(),xe=function(){var e=(0,U.useState)(!1),a=g()(e,2),t=a[0],u=a[1],r=(0,U.useState)(!1),d=g()(r,2),I=d[0],M=d[1],Ee=(0,U.useState)({}),J=g()(Ee,2),O=J[0],N=J[1],k=(0,U.useRef)(),ze=(0,U.useState)(),Q=g()(ze,2),v=Q[0],Te=Q[1],Ze=(0,U.useState)([]),X=g()(Ze,2),E=X[0],q=X[1],G=[{title:"\u540D\u79F0",dataIndex:"name",tip:"\u540D\u79F0\u662F\u552F\u4E00\u7684 key",formItemProps:{rules:[{required:!0,message:"\u540D\u79F0\u4E3A\u5FC5\u586B\u9879"}]}},{title:"\u6635\u79F0",dataIndex:"nickName",valueType:"text"},{title:"\u6027\u522B",dataIndex:"gender",hideInForm:!0,valueEnum:{0:{text:"\u7537",status:"MALE"},1:{text:"\u5973",status:"FEMALE"}}},{title:"\u64CD\u4F5C",dataIndex:"option",valueType:"option",render:function(j,o){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("a",{onClick:function(){M(!0),N(o)},children:"\u914D\u7F6E"}),(0,n.jsx)(de.Z,{type:"vertical"}),(0,n.jsx)("a",{href:"",children:"\u8BA2\u9605\u8B66\u62A5"})]})}}];return(0,n.jsxs)(W._z,{header:{title:"CRUD \u793A\u4F8B"},children:[(0,n.jsx)(Y.Z,{headerTitle:"\u67E5\u8BE2\u8868\u683C",actionRef:k,rowKey:"id",search:{labelWidth:120},toolBarRender:function(){return[(0,n.jsx)(P.Z,{type:"primary",onClick:function(){return u(!0)},children:"\u65B0\u5EFA"},"1")]},request:function(){var m=f()(l().mark(function j(o,p,C){var h,Z,_;return l().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,be(c()(c()({},o),{},{sorter:p,filter:C}));case 2:return h=x.sent,Z=h.data,_=h.success,x.abrupt("return",{data:(Z==null?void 0:Z.list)||[],success:_});case 6:case"end":return x.stop()}},j)}));return function(j,o,p){return m.apply(this,arguments)}}(),columns:G,rowSelection:{onChange:function(j,o){return q(o)}}}),(E==null?void 0:E.length)>0&&(0,n.jsxs)(W.Sc,{extra:(0,n.jsxs)("div",{children:["\u5DF2\u9009\u62E9"," ",(0,n.jsx)("a",{style:{fontWeight:600},children:E.length})," ","\u9879\xA0\xA0"]}),children:[(0,n.jsx)(P.Z,{onClick:f()(l().mark(function m(){var j,o;return l().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,ke(E);case 2:q([]),(j=k.current)===null||j===void 0||(o=j.reloadAndRest)===null||o===void 0||o.call(j);case 4:case"end":return C.stop()}},m)})),children:"\u6279\u91CF\u5220\u9664"}),(0,n.jsx)(P.Z,{type:"primary",children:"\u6279\u91CF\u5BA1\u6279"})]}),(0,n.jsx)(je,{onCancel:function(){return u(!1)},modalVisible:t,children:(0,n.jsx)(Y.Z,{onSubmit:function(){var m=f()(l().mark(function j(o){var p;return l().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,we(o);case 2:p=h.sent,p&&(u(!1),k.current&&k.current.reload());case 4:case"end":return h.stop()}},j)}));return function(j){return m.apply(this,arguments)}}(),rowKey:"id",type:"form",columns:G})}),O&&Object.keys(O).length?(0,n.jsx)(ye,{onSubmit:function(){var m=f()(l().mark(function j(o){var p;return l().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,Ue(o);case 2:p=h.sent,p&&(M(!1),N({}),k.current&&k.current.reload());case 4:case"end":return h.stop()}},j)}));return function(j){return m.apply(this,arguments)}}(),onCancel:function(){M(!1),N({})},updateModalVisible:I,values:O}):null,(0,n.jsx)(oe.Z,{width:600,visible:!!v,onClose:function(){Te(void 0)},closable:!1,children:(v==null?void 0:v.name)&&(0,n.jsx)(ie.vY,{column:2,title:v==null?void 0:v.name,request:f()(l().mark(function m(){return l().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",{data:v||{}});case 1:case"end":return o.stop()}},m)})),params:{id:v==null?void 0:v.name},columns:G})})]})},Se=xe},49365:function(K,A,s){var F={"./af":96124,"./af.js":96124,"./ar":84782,"./ar-dz":9971,"./ar-dz.js":9971,"./ar-kw":60442,"./ar-kw.js":60442,"./ar-ly":87422,"./ar-ly.js":87422,"./ar-ma":70950,"./ar-ma.js":70950,"./ar-sa":58165,"./ar-sa.js":58165,"./ar-tn":95179,"./ar-tn.js":95179,"./ar.js":84782,"./az":6033,"./az.js":6033,"./be":61904,"./be.js":61904,"./bg":18720,"./bg.js":18720,"./bm":68251,"./bm.js":68251,"./bn":5363,"./bn-bd":94083,"./bn-bd.js":94083,"./bn.js":5363,"./bo":47086,"./bo.js":47086,"./br":41887,"./br.js":41887,"./bs":62248,"./bs.js":62248,"./ca":45387,"./ca.js":45387,"./cs":53924,"./cs.js":53924,"./cv":1026,"./cv.js":1026,"./cy":66039,"./cy.js":66039,"./da":98532,"./da.js":98532,"./de":57616,"./de-at":30916,"./de-at.js":30916,"./de-ch":14894,"./de-ch.js":14894,"./de.js":57616,"./dv":89363,"./dv.js":89363,"./el":45050,"./el.js":45050,"./en-au":34020,"./en-au.js":34020,"./en-ca":29080,"./en-ca.js":29080,"./en-gb":14341,"./en-gb.js":14341,"./en-ie":28612,"./en-ie.js":28612,"./en-il":73885,"./en-il.js":73885,"./en-in":24619,"./en-in.js":24619,"./en-nz":32064,"./en-nz.js":32064,"./en-sg":65492,"./en-sg.js":65492,"./eo":10906,"./eo.js":10906,"./es":20173,"./es-do":94360,"./es-do.js":94360,"./es-mx":88797,"./es-mx.js":88797,"./es-us":79463,"./es-us.js":79463,"./es.js":20173,"./et":81602,"./et.js":81602,"./eu":32651,"./eu.js":32651,"./fa":31147,"./fa.js":31147,"./fi":14312,"./fi.js":14312,"./fil":82425,"./fil.js":82425,"./fo":9526,"./fo.js":9526,"./fr":83955,"./fr-ca":36584,"./fr-ca.js":36584,"./fr-ch":27314,"./fr-ch.js":27314,"./fr.js":83955,"./fy":89158,"./fy.js":89158,"./ga":11038,"./ga.js":11038,"./gd":58753,"./gd.js":58753,"./gl":78279,"./gl.js":78279,"./gom-deva":70830,"./gom-deva.js":70830,"./gom-latn":67334,"./gom-latn.js":67334,"./gu":54296,"./gu.js":54296,"./he":89229,"./he.js":89229,"./hi":43165,"./hi.js":43165,"./hr":84328,"./hr.js":84328,"./hu":8941,"./hu.js":8941,"./hy-am":90156,"./hy-am.js":90156,"./id":66075,"./id.js":66075,"./is":20789,"./is.js":20789,"./it":73224,"./it-ch":71026,"./it-ch.js":71026,"./it.js":73224,"./ja":71048,"./ja.js":71048,"./jv":24189,"./jv.js":24189,"./ka":6672,"./ka.js":6672,"./kk":5301,"./kk.js":5301,"./km":30567,"./km.js":30567,"./kn":24409,"./kn.js":24409,"./ko":2162,"./ko.js":2162,"./ku":18845,"./ku.js":18845,"./ky":50301,"./ky.js":50301,"./lb":18737,"./lb.js":18737,"./lo":44609,"./lo.js":44609,"./lt":81957,"./lt.js":81957,"./lv":72235,"./lv.js":72235,"./me":10374,"./me.js":10374,"./mi":8261,"./mi.js":8261,"./mk":13097,"./mk.js":13097,"./ml":52576,"./ml.js":52576,"./mn":45134,"./mn.js":45134,"./mr":65493,"./mr.js":65493,"./ms":51753,"./ms-my":92039,"./ms-my.js":92039,"./ms.js":51753,"./mt":72834,"./mt.js":72834,"./my":24434,"./my.js":24434,"./nb":11650,"./nb.js":11650,"./ne":98362,"./ne.js":98362,"./nl":67618,"./nl-be":11480,"./nl-be.js":11480,"./nl.js":67618,"./nn":33934,"./nn.js":33934,"./oc-lnc":10567,"./oc-lnc.js":10567,"./pa-in":20004,"./pa-in.js":20004,"./pl":87160,"./pl.js":87160,"./pt":49934,"./pt-br":33770,"./pt-br.js":33770,"./pt.js":49934,"./ro":88662,"./ro.js":88662,"./ru":8154,"./ru.js":8154,"./sd":49574,"./sd.js":49574,"./se":5162,"./se.js":5162,"./si":35544,"./si.js":35544,"./sk":30327,"./sk.js":30327,"./sl":99751,"./sl.js":99751,"./sq":69253,"./sq.js":69253,"./sr":25722,"./sr-cyrl":98776,"./sr-cyrl.js":98776,"./sr.js":25722,"./ss":95865,"./ss.js":95865,"./sv":69715,"./sv.js":69715,"./sw":4192,"./sw.js":4192,"./ta":33561,"./ta.js":33561,"./te":67890,"./te.js":67890,"./tet":40525,"./tet.js":40525,"./tg":6876,"./tg.js":6876,"./th":92590,"./th.js":92590,"./tk":37191,"./tk.js":37191,"./tl-ph":47046,"./tl-ph.js":47046,"./tlh":65342,"./tlh.js":65342,"./tr":99653,"./tr.js":99653,"./tzl":67999,"./tzl.js":67999,"./tzm":94978,"./tzm-latn":17608,"./tzm-latn.js":17608,"./tzm.js":94978,"./ug-cn":56574,"./ug-cn.js":56574,"./uk":53382,"./uk.js":53382,"./ur":7384,"./ur.js":7384,"./uz":43635,"./uz-latn":31720,"./uz-latn.js":31720,"./uz.js":43635,"./vi":68027,"./vi.js":68027,"./x-pseudo":43859,"./x-pseudo.js":43859,"./yo":22196,"./yo.js":22196,"./zh-cn":67899,"./zh-cn.js":67899,"./zh-hk":28605,"./zh-hk.js":28605,"./zh-mo":87282,"./zh-mo.js":87282,"./zh-tw":53994,"./zh-tw.js":53994};function w(b){var c=g(b);return s(c)}function g(b){if(!s.o(F,b)){var c=new Error("Cannot find module '"+b+"'");throw c.code="MODULE_NOT_FOUND",c}return F[b]}w.keys=function(){return Object.keys(F)},w.resolve=g,K.exports=w,w.id=49365}}]);
